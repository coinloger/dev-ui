.ui-switch-label {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    font-size: 0.95rem;
    user-select: none;
    color: var(--ui-text-main);
}

.ui-switch-label.ui-switch-disabled {
    cursor: not-allowed;
    opacity: var(--ui-switch-disabled-opacity);
}

.ui-switch-input {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
}

.ui-switch-track {
    position: relative;
    width: var(--ui-switch-width);
    height: var(--ui-switch-height);
    background-color: var(--ui-border);
    border-radius: 9999px;
    /* Full pill */
    transition: background-color 0.2s ease-in-out;
    flex-shrink: 0;
}

/* Checked Track */
.ui-switch-input:checked+.ui-switch-track {
    background-color: var(--ui-switch-checked-bg);
}

/* Thumb */
.ui-switch-thumb {
    position: absolute;
    top: 2px;
    /* Center partially - maybe calc? */
    /* Let's try to center vertically using flex or calc */
    top: 50%;
    transform: translateY(-50%);
    left: 2px;
    /* Default margin */

    width: var(--ui-switch-thumb-size);
    height: var(--ui-switch-thumb-size);
    background-color: var(--ui-switch-thumb-bg);
    border-radius: 50%;
    box-shadow: var(--ui-switch-thumb-shadow);
    transition: left 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Checked Thumb Position */
.ui-switch-input:checked+.ui-switch-track .ui-switch-thumb {
    /* Calculate left position: Width - ThumbSize - 2px (margin) */
    /* This calculation needs to be more robust or dynamic based on vars */
    /* Using CSS calc for dynamic positioning */
    left: calc(100% - var(--ui-switch-thumb-size) - 2px);
}

/* Focus */
.ui-switch-input:focus+.ui-switch-track {
    box-shadow: var(--ui-switch-focus-ring);
}

/* Sizes */
.ui-switch-sm {
    --ui-switch-width: var(--ui-switch-size-sm-width);
    --ui-switch-height: var(--ui-switch-size-sm-height);
    --ui-switch-thumb-size: var(--ui-switch-size-sm-thumb-size);
    font-size: var(--ui-font-size-sm);
}

.ui-switch-md {
    --ui-switch-width: var(--ui-switch-size-md-width);
    --ui-switch-height: var(--ui-switch-size-md-height);
    --ui-switch-thumb-size: var(--ui-switch-size-md-thumb-size);
    font-size: var(--ui-font-size-md);
}

.ui-switch-lg {
    --ui-switch-width: var(--ui-switch-size-lg-width);
    --ui-switch-height: var(--ui-switch-size-lg-height);
    --ui-switch-thumb-size: var(--ui-switch-size-lg-thumb-size);
    font-size: var(--ui-font-size-lg);
}

.ui-switch-xl {
    --ui-switch-width: var(--ui-switch-size-xl-width);
    --ui-switch-height: var(--ui-switch-size-xl-height);
    --ui-switch-thumb-size: var(--ui-switch-size-xl-thumb-size);
    font-size: var(--ui-font-size-xl);
}

/* Variants */
.ui-switch-primary .ui-switch-input:focus+.ui-switch-track {
    box-shadow: 0 0 0 3px var(--ui-primary-light);
}

.ui-switch-success .ui-switch-input:checked+.ui-switch-track {
    background-color: var(--ui-success);
}

.ui-switch-success .ui-switch-input:focus+.ui-switch-track {
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.25);
}

.ui-switch-warning .ui-switch-input:checked+.ui-switch-track {
    background-color: var(--ui-warning);
}

.ui-switch-warning .ui-switch-input:focus+.ui-switch-track {
    box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.25);
}

.ui-switch-danger .ui-switch-input:checked+.ui-switch-track {
    background-color: var(--ui-danger);
}

.ui-switch-danger .ui-switch-input:focus+.ui-switch-track {
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.25);
}